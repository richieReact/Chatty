{"ast":null,"code":"const mongoose = require('mongoose');\n\nconst Message = require('./models/message');\n\nmongoose.connect('mongodb+srv://RichardChannell:Montecristo69@cluster0.kt5oq.mongodb.net/Chatty?retryWrites=true&w=majority', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => {\n  console.log('Connected to the database!');\n}).catch(() => {\n  console.log('Connection failed oh noooooo!');\n});\n\nconst saveMsg = async (req, res, next) => {\n  const savedMessage = new Message({\n    message: req.message.body\n  });\n  console.log(savedMessage);\n  const result = await savedMessage.save();\n  console.log(typeof savedMessage._id);\n  res.json(result);\n};\n\nconst getMessages = async (req, res, next) => {\n  const messages = await Message.find();\n  res.json(messages);\n};\n\nexports.saveMsg = saveMsg;\nexports.getMessages = getMessages;","map":{"version":3,"sources":["/Users/richardchannell/Projects/Chatty/Chatty/src/backend/Server/mongoose.js"],"names":["mongoose","require","Message","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","saveMsg","req","res","next","savedMessage","message","body","result","save","_id","json","getMessages","messages","find","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,OAAO,GAAGD,OAAO,CAAC,kBAAD,CAAvB;;AAEAD,QAAQ,CAACG,OAAT,CACE,2GADF,EAC+G;AAC3GC,EAAAA,eAAe,EAAE,IAD0F;AAE3GC,EAAAA,kBAAkB,EAAE;AAFuF,CAD/G,EAKGC,IALH,CAKQ,MAAM;AACZC,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD,CAPD,EAOGC,KAPH,CAOS,MAAM;AACbF,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD,CATD;;AAWA,MAAME,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACxC,QAAMC,YAAY,GAAG,IAAIZ,OAAJ,CAAY;AAC/Ba,IAAAA,OAAO,EAAEJ,GAAG,CAACI,OAAJ,CAAYC;AADU,GAAZ,CAArB;AAGAT,EAAAA,OAAO,CAACC,GAAR,CAAYM,YAAZ;AACA,QAAMG,MAAM,GAAG,MAAMH,YAAY,CAACI,IAAb,EAArB;AACAX,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAOM,YAAY,CAACK,GAAhC;AACAP,EAAAA,GAAG,CAACQ,IAAJ,CAASH,MAAT;AACD,CARD;;AAUA,MAAMI,WAAW,GAAG,OAAOV,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC5C,QAAMS,QAAQ,GAAG,MAAMpB,OAAO,CAACqB,IAAR,EAAvB;AACAX,EAAAA,GAAG,CAACQ,IAAJ,CAASE,QAAT;AACD,CAHD;;AAKAE,OAAO,CAACd,OAAR,GAAkBA,OAAlB;AACAc,OAAO,CAACH,WAAR,GAAsBA,WAAtB","sourcesContent":["const mongoose = require('mongoose');\n\nconst Message = require('./models/message');\n\nmongoose.connect(\n  'mongodb+srv://RichardChannell:Montecristo69@cluster0.kt5oq.mongodb.net/Chatty?retryWrites=true&w=majority', {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  })\n  .then(() => {\n  console.log('Connected to the database!')\n}).catch(() => {\n  console.log('Connection failed oh noooooo!')\n});\n\nconst saveMsg = async (req, res, next) => {\n  const savedMessage = new Message({\n    message: req.message.body\n  })\n  console.log(savedMessage)\n  const result = await savedMessage.save();\n  console.log(typeof savedMessage._id)\n  res.json(result);\n};\n\nconst getMessages = async (req, res, next) => {\n  const messages = await Message.find()\n  res.json(messages);\n}\n\nexports.saveMsg = saveMsg;\nexports.getMessages = getMessages;"]},"metadata":{},"sourceType":"module"}