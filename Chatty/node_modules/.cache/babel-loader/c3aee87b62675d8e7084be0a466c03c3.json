{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParentNamespace = void 0;\n\nconst namespace_1 = require(\"./namespace\");\n\nclass ParentNamespace extends namespace_1.Namespace {\n  constructor(server) {\n    super(server, \"/_\" + ParentNamespace.count++);\n    this.children = new Set();\n  }\n\n  _initAdapter() {}\n\n  emit(...args) {\n    this.children.forEach(nsp => {\n      nsp._rooms = this._rooms;\n      nsp._flags = this._flags;\n      nsp.emit.apply(nsp, args);\n    });\n\n    this._rooms.clear();\n\n    this._flags = {};\n    return true;\n  }\n\n  createChild(name) {\n    const namespace = new namespace_1.Namespace(this.server, name);\n    namespace._fns = this._fns.slice(0);\n    this.listeners(\"connect\").forEach(listener => // @ts-ignore\n    namespace.on(\"connect\", listener));\n    this.listeners(\"connection\").forEach(listener => // @ts-ignore\n    namespace.on(\"connection\", listener));\n    this.children.add(namespace);\n\n    this.server._nsps.set(name, namespace);\n\n    return namespace;\n  }\n\n}\n\nexports.ParentNamespace = ParentNamespace;\nParentNamespace.count = 0;","map":null,"metadata":{},"sourceType":"script"}